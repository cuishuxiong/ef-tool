# <center>efTool</center>

-------------------------------------------------------------------------------

## ğŸ“šç®€ä»‹

`efTool`æ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œä¸”æ˜“ç”¨çš„**OpenHarmonyå·¥å…·åº“**ï¼Œé€šè¿‡è¯¸å¤šå®ç”¨å·¥å…·ç±»çš„ä½¿ç”¨ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…å¿«é€Ÿã€ä¾¿æ·åœ°å®Œæˆå„ç±»å¼€å‘ä»»åŠ¡ã€‚
è¿™äº›å°è£…çš„å·¥å…·æ¶µç›–äº†å­—ç¬¦ä¸²ã€æ•°å­—ã€é›†åˆã€JSONç­‰ä¸€ç³»åˆ—æ“ä½œï¼Œ
å¯ä»¥æ»¡è¶³å„ç§ä¸åŒçš„å¼€å‘éœ€æ±‚ã€‚æœ¬äººä¸ºJavaå¼€å‘,æ•…å°è£…æ€è·¯å€Ÿé‰´Javaçš„å·¥å…·ç±»Hutoolæ‰©å±•ã€‚

### ğŸefToolåç§°çš„ç”±æ¥

efTool = Efficient + Toolï¼ŒEfficientæ˜¯é«˜æ•ˆçš„è¡¨ç¤ºï¼ŒToolè¡¨ç¤ºå·¥å…·ã€‚

### ğŸºefToolç†å¿µ

`efTool`æ—¢æ˜¯ä¸€ä¸ªå·¥å…·é›†ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªçŸ¥è¯†åº“ï¼Œæˆ‘ä»ä¸è‡ªè¯©ä»£ç åŸåˆ›ï¼Œå¤§å¤šæ•°å·¥å…·ç±»éƒ½æ˜¯**æ¬è¿**è€Œæ¥ï¼Œå› æ­¤ï¼š

- ä½ å¯ä»¥å¼•å…¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥**æ‹·è´**å’Œä¿®æ”¹ä½¿ç”¨ï¼Œè€Œ**ä¸å¿…æ ‡æ³¨ä»»ä½•ä¿¡æ¯**ï¼Œåªæ˜¯å¸Œæœ›èƒ½æŠŠbugåŠæ—¶åé¦ˆå›æ¥ã€‚
- æˆ‘åŠªåŠ›å¥å…¨**ä¸­æ–‡**æ³¨é‡Šï¼Œä¸ºæºç å­¦ä¹ è€…æä¾›è‰¯å¥½åœ°å­¦ä¹ ç¯å¢ƒï¼Œäº‰å–åšåˆ°äººäººéƒ½èƒ½çœ‹å¾—æ‡‚ã€‚

-------------------------------------------------------------------------------

## ğŸ› ï¸åŒ…å«ç»„ä»¶

ä¸€ä¸ªOpenHarmonyåŸºç¡€å·¥å…·ç±»ï¼Œç»„æˆå„ç§Utilå·¥å…·ç±»ï¼ŒåŒæ—¶æä¾›ä»¥ä¸‹ç»„ä»¶ï¼š

| æ¨¡å—         | ä»‹ç»                          |
|------------|-----------------------------|
| ArrayUtil  | æä¾›å¯¹é›†åˆçš„ä¸€äº›å¸¸ç”¨çš„åˆ¤æ–­               |
| DateUtil   | æä¾›å¯¹æ—¥æœŸçš„ä¸€ç³»åˆ—å°è£…                 |
| IdCardUtil | æä¾›å¯¹èº«ä»½è¯æ ¡éªŒç³»åˆ—æ–¹æ³•(æš‚æœªå¼€å‘)          |
| IdUtil     | æä¾›ç”ŸæˆIDçš„ä¸€ç³»åˆ—æ–¹æ³•                |
| JSONUtil   | æä¾›å¯¹äºjsonå¯¹è±¡é›†åˆè·Ÿjsonå­—ç¬¦ä¸²çš„ç³»åˆ—è½¬æ¢æ–¹æ³• |
| ObjectUtil | æä¾›å¯¹äºå¯¹è±¡çš„ç³»åˆ—æ“ä½œæ–¹æ³•(æš‚æœªå¼€å‘)         |
| RandomUtil | æä¾›éšæœºæ•°çš„ç³»åˆ—æ“ä½œ(æš‚æœªå¼€å‘)            |
| RegUtil    | æä¾›å¯¹äºå¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•              |
| StrUtil    | æä¾›å¯¹äºå­—ç¬¦ä¸²çš„æ“ä½œæ–¹æ³•                |
| RegexConst | æä¾›å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼                  |
| DateConst  | æä¾›å¸¸ç”¨çš„æ—¥æœŸæ ¼å¼åŒ–è¡¨è¾¾å¼               |
| OutDTO     | æä¾›å¸¸ç”¨çš„è¿”å›å®ä½“å¯¹è±¡                 |

-------------------------------------------------------------------------------

## ğŸ“¦å®‰è£…

### ğŸŠohpm

åœ¨é¡¹ç›®modelä¸­çš„oh-package.json5çš„dependenciesä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹:

```
"dependencies": {
    "@yunkss/efTool":'^1.0.0'
 }
```

æ‰§è¡Œå®‰è£…å‘½ä»¤

```
ohpm install
```

## ğŸ“¦ä½¿ç”¨

1.åœ¨é¡¹ç›®ä¸­å¼•å…¥æ’ä»¶

```
import { ArrayUtil, CharUtil, StrUtil, RandomUtil,DateUtil,JSONUtil,RegUtil,RegexConst,OutDTO } from '@yunkss/efTool'
```

å·¥å…·ç±»æŒ‰éœ€å¼•å…¥,ä½¿ç”¨é‚£ä¸ªå¼•å…¥é‚£ä¸ª

2.ArrayUtilçš„æ–¹æ³•

* defaultIfEmpty é›†åˆä¸ºç©ºæ—¶ä¼ å…¥é»˜è®¤é›†åˆ

```
    let str: string[] = [];
    ArrayUtil.defaultIfEmpty(str, ["1", "32"]).forEach(item => {
      this.message += item + "ã€";
    })
    //è¾“å‡º 1ã€32
```

* isNotEmpty é›†åˆæ˜¯å¦ä¸ºç©ºé›†åˆï¼Œä¸ç©ºä¸ºtrueå¦åˆ™false

```
    let str: string[] = [];
    if (ArrayUtil.isNotEmpty(str)) {
      this.message = "ä¸æ˜¯ç©ºçš„";
    } else {
      this.message = "æ˜¯ç©ºçš„"
    }
    //è¾“å‡º æ˜¯ç©ºçš„
```

* isEmpty é›†åˆæ˜¯å¦ä¸ºç©ºé›†åˆ,ç©ºä¸ºtrueå¦åˆ™false

```
    let str: string[] = [];
    if (ArrayUtil.isEmpty(str)) {
      this.message = "æ˜¯ç©ºçš„";
    } else {
      this.message = "ä¸æ˜¯ç©ºçš„"
    }
    //è¾“å‡º æ˜¯ç©ºçš„
```

* strValIsEmpty é›†åˆä¸­æ¯ä¸ªå€¼éƒ½ä¸ºç©ºåˆ™è¿”å›true,å¦åˆ™è¿”å›false

```
    let str: string[] = ["", ""];
    if (ArrayUtil.strValIsEmpty(str)) {
      this.message = "æ˜¯ç©ºçš„";
    } else {
      this.message = "ä¸æ˜¯ç©ºçš„"
    }
```

* strValIsNotEmpty é›†åˆä¸­åªè¦æœ‰ä¸€ä¸ªå€¼ä¸ä¸ºç©ºåˆ™è¿”å›true,å¦åˆ™è¿”å›false

```
    let str: string[] = ["1",""];
    if (ArrayUtil.strValIsNotEmpty(str)) {
      this.message = "ä¸æ˜¯ç©ºçš„";
    } else {
      this.message = "æ˜¯ç©ºçš„"
    }
    //è¾“å‡º  ä¸æ˜¯ç©ºçš„
```

4.DateUtilçš„æ–¹æ³•

* parse å°†è¾“å…¥çš„æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºDateæ—¥æœŸç±»å‹

```
    console.error(DateUtil.parse("2023-01-01"))
    //è¾“å‡º  Sun Jan 01 2023 08:00:00 GMT+0800
```

* formatDate å°†ä¼ å…¥çš„æ—¥æœŸå­—ç¬¦ä¸²æŒ‰ç…§ä¼ å…¥çš„formatè¿›è¡Œæ ¼å¼åŒ–è¾“å‡º,ä¸ä¼ é»˜è®¤ä¸ºyyyy-MM-dd,æ—¥æœŸæ ¼å¼åŒ–å¹´æœˆæ—¥æ—¶åˆ†ç§’ä¸ºy-M-d H:m:s

```
    console.error(DateUtil.formatDate("2023/1/1"))
    //è¾“å‡º  2023-01-01
    console.error(DateUtil.formatDate("2023/1/1",'yyyy-MM-dd HH:mm:ss'))
    //è¾“å‡º  2023-01-01 00:00:00
```

* format å°†æ—¥æœŸç±»å‹çš„Dateæ ¹æ®ä¼ å…¥çš„formatæ ¼å¼åŒ–æˆæ—¥æœŸå­—ç¬¦ä¸²(formatå¿…ä¼ )

```
    console.error(DateUtil.format(new Date,'yyyy-MM-dd HH:mm:ss'))
    // è¾“å‡º 2024-01-03 20:25:58
    console.error(DateUtil.format(new Date,'HH:mm:ss'))
    // è¾“å‡º 20:27:06
```

5.JSONUtilçš„æ–¹æ³•

* toJSONString å°†ä¼ å…¥çš„jsonå¯¹è±¡æ ¼å¼åŒ–æˆjsonå­—ç¬¦ä¸²

```
    let p: Person = JSONUtil.parseObject<Person>('{"name":"æµ‹è¯•åç§°","age":18,"birth":"2024-01-03" }', 'yyyy-MM-dd HH:mm:ss')
    console.error(JSONUtil.toJSONString(p))
    //è¾“å‡º  {"name":"æµ‹è¯•åç§°","age":18,"birth":"2024-01-03 00:00:00"}
```

* parse å°†ä¼ å…¥çš„jsonå­—ç¬¦ä¸²æ ¼å¼åŒ–ä¸ºObjectå¯¹è±¡

```
    JSONUtil.parse('{"name":"æµ‹è¯•åç§°","age":18,"birth":"2024-01-03" }')
```

* parseObject å°†ä¼ å…¥çš„jsonå­—ç¬¦ä¸²æ ¼å¼åŒ–ä¸ºæŒ‡å®šçš„å®ä½“å¯¹è±¡,å¦‚æœå®ä½“ä¸­æœ‰æ—¥æœŸç±»å‹å¯ä»¥ä¼ å…¥æ ¼å¼åŒ–format,ä¸ä¼ é»˜è®¤ä¸ºyyyy-MM-dd

```
    let p: Person = JSONUtil.parseObject<Person>('{"name":"æµ‹è¯•åç§°","age":18,"birth":"2024-01-03" }', 'yyyy-MM-dd HH:mm:ss')
    console.error(p.name+":"+p.birth)
    //è¾“å‡º  æµ‹è¯•åç§°:2024-01-03 00:00:00
```

* parseArray å°†ä¼ å…¥çš„jsonå­—ç¬¦ä¸²æ ¼å¼åŒ–ä¸ºæŒ‡å®šçš„å®ä½“å¯¹è±¡é›†åˆï¼Œå¦‚æœå®ä½“ä¸­æœ‰æ—¥æœŸç±»å‹å¯ä»¥ä¼ å…¥æ ¼å¼åŒ–format,ä¸ä¼ é»˜è®¤ä¸ºyyyy-MM-dd

```
    let pArr: Array<Person> = JSONUtil.parseArray('[{"name":"æµ‹è¯•åç§°1","age":18,"birth":"2023-01-01"},{"name":"æµ‹è¯•åç§°2","age":23,"birth":"2021-01-01 12:12:12" }]',DateConst.YMD_HLINE_HMS) ;
    pArr.forEach(item => {
      console.error(item.name + "---" + item.birth);
    })
    //è¾“å‡º
    //æµ‹è¯•åç§°1---2023-01-01 00:00:00
    //æµ‹è¯•åç§°2---2021-01-01 12:12:12

```

6.RegUtilçš„æ–¹æ³•

* isMatch ç»™å®šå†…å®¹æ˜¯å¦åŒ¹é…æ­£åˆ™

```
    let res: OutDTO = RegUtil.isMatch(RegexConst.EMAIL, '111111');
    console.error(res.getSuccess() + "---" + res.getMsg());
    //è¾“å‡º false---éªŒè¯å­—ç¬¦ä¸²æ ¼å¼ä¸æ­£ç¡®,è¯·æ£€æŸ¥
```

* isEmailMatch ç»™å®šé‚®ç®±æ˜¯å¦åŒ¹é…æ­£åˆ™

```
    let res: OutDTO = RegUtil.isEmailMatch('13191191111@163.com');
    console.error(res.getSuccess() + "---" + res.getMsg());
    //è¾“å‡º  true---é‚®ç®±æ ¼å¼æ­£ç¡®
```

* isMobileMatch ç»™å®šæ‰‹æœºå·æ˜¯å¦åŒ¹é…æ­£åˆ™

```
    let res: OutDTO = RegUtil.isMobileMatch('21212');
    console.error(res.getSuccess() + "---" + res.getMsg());
    //è¾“å‡º  false---æ‰‹æœºå·ç æ ¼å¼ä¸æ­£ç¡®,è¯·æ£€æŸ¥
```

* isIdCardMatch ç»™å®šèº«ä»½è¯å·æ˜¯å¦åŒ¹é…æ­£åˆ™

```
    let res: OutDTO = RegUtil.isIdCardMatch('21212');
    console.error(res.getSuccess() + "---" + res.getMsg());
    //è¾“å‡º  false---èº«ä»½è¯å·æ ¼å¼ä¸æ­£ç¡®,è¯·æ£€æŸ¥
```

8.StrUtilçš„æ–¹æ³•

* isBlank åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºç™½ç¬¦(ç©ºç™½ç¬¦åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€å…¨è§’ç©ºæ ¼å’Œä¸é—´æ–­ç©ºæ ¼)trueä¸ºç©ºï¼Œå¦åˆ™false

```
    console.error(StrUtil.isBlank(' ')+"")
    //è¾“å‡º  true
```

* isNotBlank åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºéç©ºç™½ç¬¦(ç©ºç™½ç¬¦åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€å…¨è§’ç©ºæ ¼å’Œä¸é—´æ–­ç©ºæ ¼)trueä¸ºéç©ºï¼Œå¦åˆ™false

```
    console.error(StrUtil.isNotBlank('222')+"")
    //è¾“å‡º  true
```

* trim å»é™¤ä¼ å…¥é›†åˆçš„æ¯ä¸ªå€¼çš„å‰åç©ºæ ¼

```
    console.error(StrUtil.trim([" ä½ å¥½ "," hi","hello "]).join("----"))
    //è¾“å‡º ä½ å¥½----hi----hello
```

* hasBlank åˆ¤æ–­ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æœ‰ç©ºå€¼,åªè¦æœ‰ä¸€ä¸ªåˆ™è¿”å›true,å¦åˆ™false

```
    console.error(StrUtil.hasBlank("","232323")+"")
    //è¾“å‡º  true
```

* isEmpty åˆ¤æ–­ä¼ å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º,ç©ºç™½ç¬¦åˆ¤æ–­ä¸ºéç©º

```
    console.error(StrUtil.isEmpty(' ')+"")
    //è¾“å‡º  false
```

9.IdUtilçš„æ–¹æ³•

* simpleUUID ç”Ÿæˆ32ä¸ºUUIDä¸å¸¦-

```
    console.error(IdUtil.simpleUUID())
    //è¾“å‡º   076bb3b9db6f4ecb885dbdbdd2c29080
```

* fastUUID ç”Ÿæˆ36ä¸ºUUIDå¸¦-

```
    console.error(IdUtil.fastUUID())
    //è¾“å‡º  628128FC-55CA-48B7-8EA0-5162848FDCEF
```

* fastSimpleUUID ç”Ÿæˆ32ä¸ºUUIDå¸¦-

```
    console.error(IdUtil.fastSimpleUUID())
    //è¾“å‡º  56703FA1-0BB-503-D93-00E94A28422
```

* randomUUID ç”Ÿæˆ36ä¸ºUUIDå¸¦-,å°å†™

```
    console.error(IdUtil.randomUUID())
    //è¾“å‡º  600cddfb-1e88-4798-8987-bfb703be76ff
```

10.OutDTOçš„æ–¹æ³•

* è¯¥å¯¹è±¡æœ‰å››ä¸ªç§æœ‰æˆå‘˜å˜é‡
  //æˆåŠŸå¤±è´¥æ ‡è¯†
  private success: boolean;
  //è¿”å›æç¤ºä¿¡æ¯
  private msg: string;
  //è¿”å›å•è¡Œæ•°æ®
  private dataRow?: T;
  //è¿”å›æ•°æ®é›†åˆ
  private dataTable?: Array<T>;

* OK åªéœ€è¦è¿”å›æˆåŠŸæç¤ºæ¶ˆæ¯æ—¶ä½¿ç”¨

```
    let res:OutDTO = OutDTO.OK("åªè¿”å›æç¤ºæ¶ˆæ¯~");
    console.error(res.getMsg()+"------"+res.getSuccess())
    //è¾“å‡ºåªè¿”å›æç¤ºæ¶ˆæ¯~------true  
```

* OKByDataRow éœ€è¦è¿”å›æˆåŠŸæç¤ºæ¶ˆæ¯å¹¶ä¸”é™„å¸¦å•è¡Œæ•°æ®æ—¶ä½¿ç”¨

```
    let p: Person = JSONUtil.parseObject<Person>('{"name":"æµ‹è¯•åç§°","age":18,"birth":"2024-01-03" }', 'yyyy/MM/dd HH:mm:ss')
    let res: OutDTO<Person> = OutDTO.OKByDataRow('æˆåŠŸè¿‡äº†~', p);
    console.error(res.getMsg() + "------" + res.getSuccess()+"-----"+res.getDataRow())
    //è¾“å‡º   æˆåŠŸè¿‡äº†~------true-----[object Object]
```

* OKByDataTable éœ€è¦è¿”å›æˆåŠŸæç¤ºæ¶ˆæ¯å¹¶ä¸”é™„å¸¦å¤šè¡Œæ•°æ®æ—¶ä½¿ç”¨

```
    let pArr: Array<Person> = JSONUtil.parseArray('[{"name":"æµ‹è¯•åç§°1","age":18,"birth":"2023-01-01"},{"name":"æµ‹è¯•åç§°2","age":23,"birth":"2021-01-01 12:12:12" }]', DateConst.YMD_HLINE_HMS);
    let res = OutDTO.OKByDataTable('æˆåŠŸè¿‡äº†11111~', pArr);
    console.error(res.getMsg() + "------" + res.getSuccess()+"-----"+res.getDataTable().length)
    //è¾“å‡º  æˆåŠŸè¿‡äº†11111~------true-----2
```

* Error åªéœ€è¦è¿”å›å¤±è´¥æç¤ºæ¶ˆæ¯æ—¶ä½¿ç”¨

```
    let res:OutDTO = OutDTO.Error("åªè¿”å›å¤±è´¥æç¤ºæ¶ˆæ¯~");
    console.error(res.getMsg()+"------"+res.getSuccess())
    //è¾“å‡º åªè¿”å›å¤±è´¥æç¤ºæ¶ˆæ¯~------false
```

* ErrorByDataRow éœ€è¦è¿”å›å¤±è´¥æç¤ºæ¶ˆæ¯å¹¶ä¸”é™„å¸¦å•è¡Œæ•°æ®æ—¶ä½¿ç”¨

```
    let p: Person = JSONUtil.parseObject<Person>('{"name":"æµ‹è¯•åç§°","age":18,"birth":"2024-01-03" }', 'yyyy/MM/dd HH:mm:ss')
    let res: OutDTO = OutDTO.ErrorByDataRow("åªè¿”å›å¤±è´¥æç¤ºæ¶ˆæ¯~", p);
    console.error(res.getMsg() + "------" + res.getSuccess()+res.getDataRow())
    //è¾“å‡º  åªè¿”å›å¤±è´¥æç¤ºæ¶ˆæ¯~------false[object Object]
```

* getSuccess è·å–æˆåŠŸå¤±è´¥æ ‡è¯†

* setSuccess è®¾ç½®æˆåŠŸå¤±è´¥æ ‡è¯†

* getMsg è·å–æç¤ºæ¶ˆæ¯

* setMsg è®¾ç½®æç¤ºæ¶ˆæ¯

* getDataRow è·å–å•è¡Œæ•°æ®

* setDataRow è®¾ç½®å•è¡Œæ•°æ®

* getDataTable è·å–å¤šè¡Œæ•°æ®

* setDataTable è®¾ç½®å¤šè¡Œæ•°æ®

## â­Star efTool å¸Œæœ›æ‚¨å¯ä»¥åŠ¨ä¸€åŠ¨å°æ‰‹ç‚¹ç‚¹å°â­

## ğŸ‘´å°è£…æ€è·¯æ¥æºäºJavaçš„å·¥å…·ç±»HuTool,å¸Œæœ›å¤§å®¶å¦‚æœ‰å¥½çš„éœ€æ±‚è¸Šè·ƒæäº¤ï¼Œæˆ‘é—²æš‡æ—¶é—´ä¼šæ‰©å……
